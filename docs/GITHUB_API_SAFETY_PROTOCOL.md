# GitHub API操作安全プロトコル

**作成日**: 2025/08/30
**重要度**: 🚨 CRITICAL
**適用対象**: すべてのGitHub API操作

## ⚠️ 重大インシデント記録

### 発生した問題

**日時**: 2025/08/30
**内容**: 間違って他人のPR #93を私たちのプライベートプロジェクトに追加
**影響**: プライバシー情報漏洩・他人のPRに永続的リンク記録
**重大度**: CRITICAL（取り返し不可）

### 原因分析

- GitHub GraphQL Content IDの混同
- 事前確認不足・技術理解不足
- セキュリティ意識欠如

## 🛡️ 絶対遵守プロトコル

### Rule 1: 事前確認チェック（必須）

**GitHub API操作前に必ず実行**:

```bash
echo "=== GitHub API操作事前確認 ==="
echo "対象リポジトリ: kirikab-27/my-board-app"
echo "操作内容: [具体的な操作]"
echo "対象Issue/PR: #[番号]"

# Content ID検証
gh api repos/kirikab-27/my-board-app/issues/[番号]

echo "=== 確認事項 ==="
echo "1. リポジトリが kirikab-27/my-board-app か？"
echo "2. Issue番号が意図したものか？"
echo "3. 他人の作業・他リポジトリではないか？"
echo "4. プライベート情報保護は大丈夫か？"
```

### Rule 2: 段階的実行・即座検証（必須）

```bash
# API実行後（必須）
echo "=== 実行後確認 ==="
gh project item-list 2 --owner kirikab-27 --limit 5
echo "追加されたアイテムが正しいか確認"
```

### Rule 3: 禁止事項（絶対禁止）

- ❌ 未確認Content IDの使用
- ❌ 他リポジトリ・他人の作業への操作
- ❌ 推測・曖昧な状態での API実行
- ❌ 実行後確認の省略

### Rule 4: 緊急停止条件

以下の場合は必ず作業停止:

- Content IDの出典が不明
- リポジトリが曖昧
- Issue番号が不一致
- 操作結果に疑問

## 🎯 実行保証システム

### A. このドキュメントの活用

**GitHub API操作時に必ずこのファイルを参照**

- CLAUDE.mdからのリンク設置
- 操作前のプロトコル確認義務化

### B. 作業プロセス強制化

**GitHub API操作 = このプロトコル実行**

- 例外なし・省略不可
- 疑問時は必ず作業停止・確認要求

### C. 継続的リマインダー

**重要操作時の警告表示**

- "GitHub API操作時は安全プロトコル確認済みか？"
- "プライバシー・セキュリティ確認は完了か？"

---

## 📋 このプロトコルの位置づけ

**最高優先度**: プロジェクトのすべてのGitHub操作に適用
**継承性**: セッション切れ後も永続的に有効
**強制性**: 例外・省略一切不可

**二度と同様の重大ミスを犯さないため、このプロトコルを厳格に遵守します**
